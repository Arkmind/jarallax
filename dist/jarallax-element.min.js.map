{"version":3,"sources":["jarallax-element.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","jarallax","el","eventName","handler","Jarallax","constructor","forEach","key","def","self","this","args","arguments","$item","getAttribute","options","type","pureOptions","speed","apply","threshold","speedArr","split","speedY","parseFloat","speedX","thresholdArr","thresholdY","thresholdX","onResize","onScroll","addToParallaxList","defTransform","css","transform","rect","getBoundingClientRect","itemData","width","height","y","top","getWindowData","x","left","wnd","centerPercent","moveY","moveX","my","mx","window","document","querySelectorAll","addEventListener"],"mappings":";;;;;IAAA,SAAAA,GAEA,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAJ,EAAAG,GAAAK,KAAAH,EAAAD,QAAAC,EAAAA,EAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAO,EAAAT,EAGAE,EAAAQ,EAAAT,EAGAC,EAAAS,EAAA,SAAAP,EAAAQ,EAAAC,GACAX,EAAAY,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAf,GACA,IAAAQ,EAAAR,GAAAA,EAAAgB,WACA,WAAA,OAAAhB,EAAA,SACA,WAAA,OAAAA,GAEA,OADAH,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAA,OAAAR,OAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGArB,EAAAwB,EAAA,GAGAxB,EAAAA,EAAAyB,EAAA,GA9DA,EAmEA,SAAAtB,EAAAD,EAAAF,GAEAG,EAAAD,QAAAF,EAAA,IAKA,SAAAG,EAAAD,EAAAF,GAEA,cAIA,WACA,GAAA,oBAAA0B,SAAA,CASA,IAJAC,EAAAC,EAAAC,EAIAC,EAAAJ,SAAAK,aAGA,UAAA,kBAAA,OAAA,UAAA,gBAAA,aAAA,YAAA,WAAA,YAAAC,QAAA,SAAAC,GACA,IAAAC,EAAAJ,EAAAR,UAAAW,GACAH,EAAAR,UAAAW,GAAA,WACA,IAAAE,EAAAC,KACAC,EAAAC,cAMA,GAJA,YAAAL,GAAA,OAAAE,EAAAI,MAAAC,aAAA,2BACAL,EAAAM,QAAAC,KAAA,UACAP,EAAAQ,YAAAC,MAAAT,EAAAI,MAAAC,aAAA,0BAAAL,EAAAQ,YAAAC,OAEA,YAAAT,EAAAM,QAAAC,KACA,OAAAR,EAAAW,MAAAV,EAAAE,GAKA,OAFAF,EAAAQ,YAAAG,UAAAX,EAAAI,MAAAC,aAAA,mBAAA,GAEAP,GACA,IAAA,OACA,IAAAc,EAAAZ,EAAAQ,YAAAC,MAAAI,MAAA,KACAb,EAAAM,QAAAG,MAAAT,EAAAQ,YAAAC,OAAA,EACAT,EAAAM,QAAAQ,OAAAF,EAAA,GAAAG,WAAAH,EAAA,IAAA,EACAZ,EAAAM,QAAAU,OAAAJ,EAAA,GAAAG,WAAAH,EAAA,IAAA,EAEA,IAAAK,EAAAjB,EAAAQ,YAAAG,UAAAE,MAAA,KACAb,EAAAM,QAAAY,WAAAD,EAAA,GAAAF,WAAAE,EAAA,IAAA,KACAjB,EAAAM,QAAAa,WAAAF,EAAA,GAAAF,WAAAE,EAAA,IAAA,KAEAjB,EAAAoB,WACApB,EAAAqB,WACArB,EAAAsB,oBACA,MACA,IAAA,WACA,IAAAC,EAAAvB,EAAAwB,IAAAxB,EAAAI,MAAA,aACAJ,EAAAwB,IAAAxB,EAAAI,OAAAqB,UAAA,KACA,IAAAC,EAAA1B,EAAAI,MAAAuB,wBACA3B,EAAA4B,UACAC,MAAAH,EAAAG,MACAC,OAAAJ,EAAAI,OACAC,EAAAL,EAAAM,IAAAhC,EAAAiC,gBAAAF,EACAG,EAAAR,EAAAS,MAEAnC,EAAAwB,IAAAxB,EAAAI,OAAAqB,UAAAF,IACA,MACA,IAAA,WACA,IAAAa,EAAApC,EAAAiC,gBACAI,GAAAD,EAAAL,EAAAK,EAAAN,OAAA,EAAA9B,EAAA4B,SAAAG,EAAA/B,EAAA4B,SAAAE,OAAA,IAAAM,EAAAN,OAAA,GACAQ,EAAAD,EAAArC,EAAAM,QAAAQ,OACAyB,EAAAF,EAAArC,EAAAM,QAAAU,OACAwB,EAAAF,EACAG,EAAAF,EACA,OAAAvC,EAAAM,QAAAY,YAAAoB,EAAAtC,EAAAM,QAAAY,aAAAsB,EAAA,GACA,OAAAxC,EAAAM,QAAAa,YAAAoB,EAAAvC,EAAAM,QAAAa,aAAAsB,EAAA,GACAzC,EAAAwB,IAAAxB,EAAAI,OAAAqB,UAAA,eAAAgB,EAAA,MAAAD,EAAA,UACA,MACA,IAAA,UACA,IAAA,YACA,IAAA,gBACA,IAAA,aACA,OAAA,EAGA,OAAAzC,EAAAW,MAAAV,EAAAE,MApEAV,EAyEAkD,OAzEAjD,EAyEA,mBAzEAC,EAyEA,WACAH,SAAAoD,SAAAC,iBAAA,6BAzEApD,EAAAqD,iBAAApD,EAAAC,IAPA","file":"jarallax-element.min.js","sourcesContent":["/*!\n * Name    : Elements Extension for Jarallax\n * Version : 1.0.0\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint no-case-declarations: \"off\" */\n(function () {\n    if (typeof jarallax === 'undefined') {\n        return;\n    }\n\n    // init events\n    function addEventListener(el, eventName, handler) {\n        el.addEventListener(eventName, handler);\n    }\n\n    var Jarallax = jarallax.constructor;\n\n    // redefine default methods\n    ['initImg', 'canInitParallax', 'init', 'destroy', 'clipContainer', 'coverImage', 'isVisible', 'onScroll', 'onResize'].forEach(function (key) {\n        var def = Jarallax.prototype[key];\n        Jarallax.prototype[key] = function () {\n            var self = this;\n            var args = arguments || [];\n\n            if (key === 'initImg' && self.$item.getAttribute('data-jarallax-element') !== null) {\n                self.options.type = 'element';\n                self.pureOptions.speed = self.$item.getAttribute('data-jarallax-element') || self.pureOptions.speed;\n            }\n            if (self.options.type !== 'element') {\n                return def.apply(self, args);\n            }\n\n            self.pureOptions.threshold = self.$item.getAttribute('data-threshold') || '';\n\n            switch (key) {\n                case 'init':\n                    var speedArr = self.pureOptions.speed.split(' ');\n                    self.options.speed = self.pureOptions.speed || 0;\n                    self.options.speedY = speedArr[0] ? parseFloat(speedArr[0]) : 0;\n                    self.options.speedX = speedArr[1] ? parseFloat(speedArr[1]) : 0;\n\n                    var thresholdArr = self.pureOptions.threshold.split(' ');\n                    self.options.thresholdY = thresholdArr[0] ? parseFloat(thresholdArr[0]) : null;\n                    self.options.thresholdX = thresholdArr[1] ? parseFloat(thresholdArr[1]) : null;\n\n                    self.onResize();\n                    self.onScroll();\n                    self.addToParallaxList();\n                    break;\n                case 'onResize':\n                    var defTransform = self.css(self.$item, 'transform');\n                    self.css(self.$item, { transform: '' });\n                    var rect = self.$item.getBoundingClientRect();\n                    self.itemData = {\n                        width: rect.width,\n                        height: rect.height,\n                        y: rect.top + self.getWindowData().y,\n                        x: rect.left\n                    };\n                    self.css(self.$item, { transform: defTransform });\n                    break;\n                case 'onScroll':\n                    var wnd = self.getWindowData();\n                    var centerPercent = (wnd.y + wnd.height / 2 - self.itemData.y - self.itemData.height / 2) / (wnd.height / 2);\n                    var moveY = centerPercent * self.options.speedY;\n                    var moveX = centerPercent * self.options.speedX;\n                    var my = moveY;\n                    var mx = moveX;\n                    if (self.options.thresholdY !== null && moveY > self.options.thresholdY) my = 0;\n                    if (self.options.thresholdX !== null && moveX > self.options.thresholdX) mx = 0;\n                    self.css(self.$item, { transform: 'translate3d(' + mx + 'px,' + my + 'px,0)' });\n                    break;\n                case 'initImg':\n                case 'isVisible':\n                case 'clipContainer':\n                case 'coverImage':\n                    return true;\n                // no default\n            }\n            return def.apply(self, args);\n        };\n    });\n\n    // data-jarallax-element initialization\n    addEventListener(window, 'DOMContentLoaded', function () {\n        jarallax(document.querySelectorAll('[data-jarallax-element]'));\n    });\n})();\n\n/***/ })\n/******/ ]);"]}